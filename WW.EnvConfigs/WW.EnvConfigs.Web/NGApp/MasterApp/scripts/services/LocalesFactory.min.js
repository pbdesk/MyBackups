(function(){"use strict";function n(n,t,i){var f="/api/locales/",r=[],e=!1,u="LocalesCache",o=function(){return e},s=function(o){var s=t.defer();return i.IsSessionCacheDefined(u)&&!o?(angular.copy(i.GetSessionCache(u),r),e=!0,s.resolve()):n.get(f).success(function(n){var t=PBDeskJS.Utils.ResolveReferences(n);$.each(t,function(n,t){t.EnvValues=null});angular.copy(t,r);i.SetSessionCache(u,r);e=!0;s.resolve()}).error(function(n,t){s.reject(n,t)}),s.promise},h=function(n){if(o()==!0){var t=$.grep(r,function(t){return t.Id==n});return t.length==0?null:t.length==1?t[0]:null}return null},c=function(e){var o=t.defer();return n.post(f,e).success(function(n){var t=n.data;r.splice(0,0,t);i.SetSessionCache(u,r);o.resolve(t)}).error(function(n,t){o.reject(n,t)}),o.promise},l=function(e){var o=t.defer();return n.put(f+e.Id,e).success(function(){i.SetSessionCache(u,r);o.resolve()}).error(function(n,t){o.reject(n,t)}),o.promise},a=function(e,o){var s=t.defer();return n.delete(f+e).success(function(){r.splice(o,1);i.SetSessionCache(u,r);s.resolve()}).error(function(n,t){s.reject(n,t)}),s.promise};return{Items:r,GetItems:s,GetItem:h,AddItem:c,UpdateItem:l,DeleteItem:a,IsReady:o}}angular.module(MasterAppName).factory("LocalesFactory",["$http","$q","CacheFactory",n])})();
//# sourceMappingURL=LocalesFactory.min.js.map